{% extends 'admin_template/base_template.html' %}

{% block main_content %}

{% load static %}


<section class="content">
        <div class="container-fluid">
          <!-- Small boxes (Stat box) -->
          <div class="row">

            <div class="w3-card-4" style="width:70%">
              <header class="w3-container w3-light-grey">
                <h3>{{ user.first_name }} {{ user.last_name }}</h3>
              </header>
              <br>
              <div class="w3-container">
                <div class="image">
                <img src="{% static 'dist/img/user2-160x160.jpg' %}" alt="Avatar" class="w3-left w3-circle w3-margin-right" style="width:60px">
                </div>
                <p>{{ user.username }}</p><br>
              </div>
              <br>
             
              <a href="{% url 'admin_profile' %}"><button class="w3-button w3-block bg-primary text-white">Update</button></a>
            </div>
          </div>
          <br>
          <div class="row">
            <div class="col-lg-3 col-6">
              <!-- small box -->
              <div class="small-box bg-danger">
                <div class="inner">
                  <h3>{{ head_count }}</h3>

                  <p>Total Head</p>
                </div>
                <div class="icon">
                  <i class="ion ion-stats-bars"></i>
                </div>
                <a href="{% url 'manage_head' %}" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
              </div>
            </div>


            <div class="col-lg-3 col-6">
              <!-- small box -->
              <div class="small-box bg-info">
                <div class="inner">
                  <h3>{{ all_Member_count }}</h3>

                  <p>Total Member</p>
                </div>
                <div class="icon">
                  <i class="ion ion-stats-bars"></i>
                </div>
                <a href="{% url 'manage_member' %}" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
              </div>
            </div>
            <!-- ./col -->
            <div class="col-lg-3 col-6">
              <!-- small box -->
              <div class="small-box bg-danger">
                <div class="inner">
                  <h3>{{ project_count }}</h3>

                  <p>Total Projects</p>
                </div>
                <div class="icon">
                  <i class="ion ion-stats-bars"></i>
                </div>
                <a href="{% url 'manage_head' %}" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
              </div>
            </div>

            <div class="col-lg-3 col-6">
              <!-- small box -->
              <div class="small-box bg-info">
                <div class="inner">
                  <h3>{{ task_count }}</h3>

                  <p>Total Task</p>
                </div>
                <div class="icon">
                  <i class="ion ion-stats-bars"></i>
                </div>
                <a href="{% url 'manage_member' %}" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
              </div>
            </div>

            
            
            
          </div>
          <!-- /.row -->
          <!--div class="col-lg-6 col-10">
            
            <div class="small-box ">
              <div class="inner">
                <div class="user-panel d-flex">
                <div class="image">
                  <img src="{% static 'dist/img/user2-160x160.jpg' %}" class="img-circle elevation-2" alt="User Image"  width="80" height="60">
                </div></div>
                <h3>{{ user.first_name }} {{ user.last_name }}</h3>
                <p>{{ user.username }}</p>
                <p>User Profile</p>
              </div>
              
              <a href="{% url 'manage_member' %}" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
            </div>
          </div-->

          
            
          



          
                <!-- /.card-body -->
              </div>
              <!-- /.card -->
            </div>

    <!-- DONUT CHART -->         <!--div class="col-lg-6">
             
              <div class="card card-danger">
                <div class="card-header">
                  <h3 class="card-title">Total Subjects in Each Course</h3>

                  <div class="card-tools">
                    <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-minus"></i>
                    </button>
                    <button type="button" class="btn btn-tool" data-card-widget="remove"><i class="fas fa-times"></i></button>
                  </div>
                </div>
                <div class="card-body">
                  <canvas id="donutChart" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
                </div>
                < /.card-body -->
              <!--/div>
              < /.card >
              
            </div>
          </div-->

   <!-- PIE CHART -->        <!--div class="row">

            <div class="col-lg-6">
             
              <div class="card card-info">
                <div class="card-header">
                  <h3 class="card-title">Total Student in Each Course</h3>

                  <div class="card-tools">
                    <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-minus"></i>
                    </button>
                    <button type="button" class="btn btn-tool" data-card-widget="remove"><i class="fas fa-times"></i></button>
                  </div>
                </div>
                <div class="card-body">
                  <canvas id="pieChart2" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
                </div>
                <!-- /.card-body >
                </div>
            </div-->

      <!-- PIE CHART -->       <!--div class="col-lg-6">
             
              <div class="card card-info">
                <div class="card-header">
                  <h3 class="card-title">Total Students in Each Subject</h3>

                  <div class="card-tools">
                    <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-minus"></i>
                    </button>
                    <button type="button" class="btn btn-tool" data-card-widget="remove"><i class="fas fa-times"></i></button>
                  </div>
                </div>
                <div class="card-body">
                  <canvas id="pieChart3" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
                </div>
                <!-- /.card-body >
            </div>
            </div>
          </div-->

  <!-- BAR CHART -->      <!--div class="row">
          <div class="col-lg-12">
            
            <div class="card card-success">
              <div class="card-header">
                <h3 class="card-title">Staff Attendance vs Leave</h3>

                <div class="card-tools">
                  <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-minus"></i>
                  </button>
                  <button type="button" class="btn btn-tool" data-card-widget="remove"><i class="fas fa-times"></i></button>
                </div>
              </div>
              <div class="card-body">
                <div class="chart">
                  <canvas id="barChart" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
                </div>
              </div>
              < /.card-body >
            </div-->
            <!-- /.card >
          </div-->


          <!--div class="col-lg-6">
            
          </div>
        
        </div>

        <div class="row">
          <div class="col-lg-12"-->
            <!-- BAR CHART >
            <div class="card card-success">
              <div class="card-header">
                <h3 class="card-title">Student Attendance vs Leave</h3>

                <div class="card-tools">
                  <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-minus"></i>
                  </button>
                  <button type="button" class="btn btn-tool" data-card-widget="remove"><i class="fas fa-times"></i></button>
                </div>
              </div>
              <div class="card-body">
                <div class="chart">
                  <canvas id="barChart2" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
                </div>
              </div>
              <!-- /.card-body >
            </div-->
            <!-- /.card >
          </div>


          <div class="col-lg-6">
            
          </div>
        
        </div>

        </div--><!-- /.container-fluid -->
      </section>

  {% endblock main_content %}

  {% block custom_js %}

  <script>
    $(document).ready(function(){
      var donutChartCanvas = $('#pieChart').get(0).getContext('2d')
      var pieData        = {
        labels: [
            'Members', 
            'Head',
        ],
        datasets: [
          {
            data: [{{ all_member_count }}, {{ head_count }}],
            backgroundColor : ['#f56954', '#00a65a'],
          }
        ]
      }

      //-------------
      //- PIE CHART -
      //-------------
      // Get context with jQuery - using jQuery's .get() method.
      var pieChartCanvas = $('#pieChart').get(0).getContext('2d')
      var pieData        = pieData;
      var pieOptions     = {
        maintainAspectRatio : false,
        responsive : true,
      }
      //Create pie or douhnut chart
      // You can switch between pie and douhnut using the method below.
      var pieChart = new Chart(pieChartCanvas, {
        type: 'pie',
        data: pieData,
        options: pieOptions      
      })


     
  </script>

  {% endblock custom_js %}